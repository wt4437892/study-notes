# Git笔记

## Git  配置

- `git config --list` 检查所有配置信息
- `git config <key>` 检查某一项配置

## 获取帮助

- `git help <verb>`
- `git <verb> --help`
- `man git-<verb>`

## 获取Git仓库

- `git init` 在现有项目中初始化仓库
- `git clone [url]` 克隆现有的仓库

## 记录每次更新到仓库

文件四种状态

![image-20210911144939946](assets/image-20210911144939946.png)

- `git status` 检查当前文件状态

  - `-s` 状态简览

    A 标记：新添加到暂存区中的文件

    M标记：出现在靠左边的M 表示该文件被修改了并放入了暂存区，出现在右边的 M 表示该文件被修改了但是还没放入暂存区

- `git add` 跟踪新文件

## .gitignore文件规范

- 所有空行或者以 # 开头的行都会被 Git 忽略
- 可以使用标准的 glob 模式匹配
  - 星号(*)匹配零个或多个任意字符
  - [abc] 匹配任何**一个**列在方括号中的字符，-在[]中表示范围
  - 问号(?)只匹配 一个任意字符
  - 两个星号(*) 表示匹配任意中间目录，包括为0个中间目录
- 匹配模式可以以(/)开头防止递归
- 匹配模式可以以(/)结尾指定目录
- 要忽略指定模式以外的文件或目录，可以在模式前加上惊叹号(!)取反

## 查看已暂存和未暂存的修改

- `git diff` 查看修改之后未暂存起来的变化内容
  - `--staged(cached)` 查看已暂存的将要添加到下次提交里的内容

## 提交更新

- `git commit` 提交命令
  - `-m` 提交连同提交信息
  - `-a` 自动把所有已经跟踪过的文件暂存起来一并提交，跳过`git add`步骤

## 移除文件

- `git rm <file>/<glob模式>` 从暂存区域移除
  - `-f` 强制删除
  - `--cached` 从暂存区域移除,但文件保留在当前工作目录中

## 移动文件

- `git mv file_from file_to` 移动文件或文件重命名

## 查看提交历史记录

- `git log` 回顾提交历史

  - `-p` 显示每次提交的内容差异

  - `-<times>` 最近times次提交

  - `--stat` 简略的统计信息

  - `--pretty=oneline/short/full/fuller` 指定使用不同于默认格式的方式展示提交历史

  - `--pretty=format:"<pattern>"`

    | 选项 |                   说明                    |
    | :--- | :---------------------------------------: |
    | %H   |      提交对象(commit)的完整哈希字串       |
    | %h   |          提交对象的简短哈希字串           |
    | %T   |        树对象(tree)的完整哈希字串         |
    | %t   |           树对象的简短哈希字串            |
    | %P   |       父对象(parent)的完整哈希字串        |
    | %p   |           父对象的简短哈希字串            |
    | %an  |                  作者名                   |
    | %ae  |             作者电子邮件地址              |
    | %ad  | 作者修订日期(可以用 --date= 选项定制格式) |
    | %ar  |     作者修订日期，按多久以前方式显示      |
    | %cn  |                提交者名字                 |
    | %ce  |            提交者电子邮件地址             |
    | %cd  |                 提交日期                  |
    | %ce  |     提交修订日期，按多久以前方式显示      |
    | %s   |                 提交说明                  |

## 撤消操作

- `git commit --amend` 修改提交信息重新提交

## 取消暂存的文件

- `git reset HEAD <file>` 取消暂存文件

## 撤消对文件的修改

- `git checkout -- [file]` 撤消文件修改，慎重使用（修改数据消失）

